(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var r=t(2),c=t.n(r),u=t(14),o=t.n(u),i=(t(19),t(4)),a=t(3),s=t.n(a),d="/api/notes",j={getAll:function(){return s.a.get(d).then((function(e){return e.data}))},add:function(e){return s.a.post(d,e).then((function(e){return e.data}))},update:function(e,n){return s.a.put("".concat(d,"/").concat(e),n).then((function(e){return e.data}))},remove:function(e){return s.a.delete("".concat(d,"/").concat(e)).then((function(e){return e.data}))}},l=t(0),b=function(e){var n=e.value,t=e.setValue;return Object(l.jsxs)("div",{children:["filter shown with ",Object(l.jsx)("input",{value:n,onChange:function(e){return t(e.target.value)}})]})},f=function(e){var n=e.persons,t=e.setPersons,c=e.updatePerson,u=Object(r.useState)(""),o=Object(i.a)(u,2),a=o[0],s=o[1],d=Object(r.useState)(""),b=Object(i.a)(d,2),f=b[0],h=b[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"add a new"}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r={name:f,number:a};n.find((function(e){return e.name===r.name}))?window.confirm("".concat(r.name," is already added to the phonebook, replace the old number?"))&&c(n.find((function(e){return e.name===r.name})).id,r):j.add(r).then((function(e){return t(n.concat(e))})),h("")},children:[Object(l.jsxs)("div",{children:[" name: ",Object(l.jsx)("input",{value:f,onChange:function(e){return h(e.target.value)}})," "]}),Object(l.jsxs)("div",{children:[" number: ",Object(l.jsx)("input",{value:a,onChange:function(e){return s(e.target.value)}})," "]}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"submit",children:"add"})})]})]})},h=function(e){var n=e.person,t=e.deletePerson;return Object(l.jsxs)("li",{children:[n.name," ",n.number,Object(l.jsx)("button",{onClick:function(){return window.confirm("Delete ".concat(n.name," ?"))?t(n.id):null},children:"delete"})]})},O=function(e){var n=e.persons,t=e.filter,r=e.deletePerson,c=n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Numbers"}),Object(l.jsx)("ul",{children:c.map((function(e){return Object(l.jsx)(h,{person:e,deletePerson:r},e.name)}))})]})},p=function(){var e=Object(r.useState)([]),n=Object(i.a)(e,2),t=n[0],c=n[1],u=Object(r.useState)(""),o=Object(i.a)(u,2),a=o[0],s=o[1];return Object(r.useEffect)((function(){j.getAll().then((function(e){return c(e)}))}),[]),Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Phonebook"}),Object(l.jsx)(b,{value:a,setValue:s}),Object(l.jsx)(f,{persons:t,setPersons:c,updatePerson:function(e,n){j.update(e,n).then((function(n){return c(t.map((function(t){return t.id===e?n:t})))}))}}),Object(l.jsx)(O,{persons:t,filter:a,deletePerson:function(e){return j.remove(e).then((function(n){c(t.filter((function(n){return n.id!==e})))}))}})]})};o.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(p,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.a2e088e5.chunk.js.map