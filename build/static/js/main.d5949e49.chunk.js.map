{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseURL","personService","getAll","axios","get","then","response","data","add","newPerson","post","update","id","put","remove","delete","Filter","value","setValue","onChange","event","target","PhonebookForm","persons","setPersons","updatePerson","useState","newNumber","setNewNumber","newName","setNewName","onSubmit","preventDefault","name","number","find","p","window","confirm","returnedPerson","concat","type","Person","person","deletePerson","onClick","PhonebookNumbers","filter","displayedPersons","toLowerCase","includes","map","App","setFilter","useEffect","receivedPerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d5949e49.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst baseURL = `/api/persons`;\n\nconst getAll = () => axios.get(baseURL).then(response => response.data);\nconst add = newPerson => axios.post(baseURL, newPerson).then(response => response.data);\nconst update = (id, newPerson) => axios.put(`${baseURL}/${id}`, newPerson).then(response => response.data); \nconst remove = id => axios.delete(`${baseURL}/${id}`).then(response => response.data);\n\nconst personService = {\n    getAll, add, update, remove\n};\n\nexport default personService;","import React, { useState, useEffect } from 'react';\nimport personService from './services/persons';\n\n\nconst Filter = ({value, setValue}) => {\n  return (\n    <div>\n      filter shown with <input value={value} onChange={(event) => setValue(event.target.value)} />\n    </div>\n  );\n};\n\nconst PhonebookForm = ({persons, setPersons, updatePerson}) => {\n\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ newName, setNewName ] = useState('');\n\n  const addNewPerson = (event) => {\n    event.preventDefault();\n    const newPerson = { name: newName, number: newNumber };\n    if (!persons.find(p => p.name === newPerson.name)) {\n      personService.add(newPerson).then(returnedPerson => setPersons(persons.concat(returnedPerson)));\n    } else { \n      if(window.confirm(`${newPerson.name} is already added to the phonebook, replace the old number?`)) \n      updatePerson(persons.find(p => p.name === newPerson.name).id, newPerson); \n    } \n    setNewName('');\n  }\n  return (\n    <div>\n      <h3>add a new</h3>\n      <form onSubmit={addNewPerson}>\n        <div> name: <input value={newName} onChange={(event) => setNewName(event.target.value)} /> </div>\n        <div> number: <input value={newNumber} onChange={(event) => setNewNumber(event.target.value)} /> </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nconst Person = ({person, deletePerson}) => {\n  return (\n  <li>\n    {person.name} {person.number} \n    <button onClick={() => \n      window.confirm(`Delete ${person.name} ?`) ? deletePerson(person.id) : null}>\n      delete\n    </button>\n  </li> \n  );\n};\n\nconst PhonebookNumbers = ({persons, filter, deletePerson}) => {\n  const displayedPersons = persons.filter(p => p.name.toLowerCase().includes(filter.toLowerCase()));\n  return (\n    <div>\n      <h3>Numbers</h3>\n      <ul>\n        {displayedPersons.map(p => <Person person={p} key={p.name} deletePerson={deletePerson} />)}\n      </ul>\n    </div>\n  );\n};\n\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([]); \n  const [filter, setFilter] = useState('');\n\n  const deletePerson = id => personService.remove(id).then(response => {\n    setPersons(persons.filter(p => p.id !== id));\n  });\n\n  const updatePerson = (id, newPerson) => {\n    personService.update(id, newPerson).then(receivedPerson => \n      setPersons(persons.map(p => p.id === id ? receivedPerson : p))\n    );\n  };\n  \n\n  useEffect(() => {\n    personService.getAll().then(persons => setPersons(persons));\n  }, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter value={filter} setValue={setFilter} />\n      <PhonebookForm persons={persons} setPersons={setPersons} updatePerson={updatePerson} />\n      <PhonebookNumbers persons={persons} filter={filter} deletePerson={deletePerson} />\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}